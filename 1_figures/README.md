Для устранения проблемы и соблюдения принципа подстановки Барбары Лисков:

Введение базового класса Shape:
Определяет общий интерфейс для всех фигур (например, свойство area).
Для единообразия.

Наследование Square от Rectangle:
В класс Square добавлены ограничения: изменение ширины (width) или высоты (height) автоматически обновляет обе стороны квадрата.
side для квадрата.

Свойства и сеттеры:
Используются свойства для контроля значений ширины, высоты и стороны. Это предотвращает некорректные изменения, нарушающие свойства фигуры.
Пример использования:
В программе можно создавать и использовать как прямоугольники, так и квадраты.
